const rates=document.querySelectorAll(".slider__item-rate"),menuBtn=document.querySelector(".menu__btn"),menuList=document.querySelector(".header__menu-list"),headerBtn=document.querySelector(".header__btn"),backgroundChange=document.querySelectorAll('section[data-background="true"]');function check_webp_feature(e,n){var o=new Image;o.onload=function(){var t=0<o.width&&0<o.height;n(e,t)},o.onerror=function(){n(e,!1)},o.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]}function rate(){rates.forEach(e=>{if(e.hasAttribute("data-rate")){var n=e.getAttribute("data-rate").toString(),o=5-n;for(let t=0;t<n;t++)r();for(let t=0;t<o;t++)a()}else{r();for(let t=0;t<4;t++)a()}function a(){const t=document.createElement("img");t.setAttribute("src","images/star.svg"),t.setAttribute("alt","пуста зірка"),e.appendChild(t)}function r(){const t=document.createElement("img");t.setAttribute("src","images/star-fill.svg"),t.setAttribute("alt","заповнена зірка"),e.appendChild(t)}})}function slider(t){const e=document.querySelector(t),a=e.closest('[data-slider="wrapper"]'),n=e.closest('[data-slider="parent-block"]');let o=e.children,r=window.getComputedStyle(o[0]).getPropertyValue("width"),l=(r=parseInt(r.substring(0,r.length-2)),window.getComputedStyle(o[0]).getPropertyValue("margin-right"));l=parseInt(l.substring(0,l.length-2));const s=e.closest('[data-slider="inner"]'),i=n.querySelector('[data-arrow="right"]'),d=n.querySelector('[data-arrow="left"]');let u,c=window.getComputedStyle(s).getPropertyValue("width"),A=(c=parseInt(c.substring(0,c.length-2)),n.hasAttribute("data-anim")&&"true"===n.getAttribute("data-anim")&&(u=document.querySelector(".top-slider__btn-box")),Array.prototype.forEach.call(o,t=>{t.style.userSelect="none"}),1),m,g=1,p=[],f,y,h,v,b,w,S,B,C=0,E=500,L=E;if(n.hasAttribute("data-dots")?"true"===n.getAttribute("data-dots")&&(f=!0):f=!1,n.hasAttribute("data-center-mode"))if("true"===n.getAttribute("data-center-mode")){y=!0;for(let t=0;t<document.documentElement.clientWidth/r;t++)C++;m=-(r*C-(c-r)/2),e.style.transform="translateX("+(-m+(-2*r+(c-r)/2))+"px)",a.style.transform="translateX("+-(r*C-(c-r)/2)+"px)"}else y=!1,m=-r-l,a.style.transform="translateX("+(-r-l)+"px)";else y=!1,m=-r-l,a.style.transform="translateX("+(-r-l)+"px)";if(n.hasAttribute("data-autoplay")&&(w=!0,S=parseFloat(n.getAttribute("data-autoplay"))),f){const I=n.querySelector('[data-slider="dots-box"]');for(let t=0;t<o.length;t++){const k=document.createElement("button");k.classList.add("dot"),k.textContent=t+1,k.dataset.id=t+1,p.push(k),I.append(k)}p[0].classList.add("active"),p.forEach(e=>{e.addEventListener("click",()=>{var t=parseInt(e.getAttribute("data-id"));t>g?(h=Math.abs(t-g),L=E/h,_()):t<g&&(v=Math.abs(g-t),L=E/v,x())})})}function X(t=!0){if(!0===t&&(a.style.transition="transform .5s"),w&&(u.classList.remove("active"),clearInterval(b),b=null),-1===A&&(A+=o.length),0===(g=A%o.length)&&(g=o.length),y)for(let t=0;t<o.length;t++)o[t].classList.remove("active");setTimeout(()=>{o[(g+o.length-1)%o.length].style.order="1";for(let t=o.length-1;0<t;t--)o[(g+t-1)%o.length].style.order=(t+2).toString();if(y){e.style.transform="translateX("+(-m+(-2*r+(c-r)/2))+"px)";for(let t=0;t<o.length;t++)"4"===o[t].style.order&&o[t].classList.add("active")}else e.style.transform="translateX("+(-m-(r+l))+"px)";f&&(p.forEach(t=>t.classList.remove("active")),p[g-1].classList.add("active")),0<v?0<--v?x():L=E:0<h&&0<--h?_():L=E,w&&null===b&&(b=setInterval(_,1e3*S),u.classList.add("active"))},L)}function _(t=!0){m-=r+l,a.style.transform="translateX("+m+"px)",A+=1,X(t)}function x(t=!0){m+=r+l,a.style.transform="translateX("+m+"px)",--A,X(t)}i.addEventListener("click",()=>{_()}),d.addEventListener("click",()=>{x()}),s.addEventListener("touchstart",function(t){let e=t.targetTouches[0],n=void e.pageX,o=(a.style.transition="none",e);s.ontouchmove=t=>{o=t.targetTouches[0],B=o.pageX-e.pageX,a.style.transform="translateX("+(m+B)+"px)",B>=r+l?(L=0,e=t.targetTouches[0],x(!1)):B<=-r-l&&(L=0,e=t.targetTouches[0],_(!1))},s.ontouchend=()=>{n=o.pageX,e.pageX>n?_():e.pageX<n&&x(),s.ontouchmove=null,s.ontouchend=null}}),s.onmousedown=t=>{let e=t.pageX;function n(){B<0?_():0<B&&x(),s.onmouseleave=null,s.onmousemove=null,s.onmouseup=null}a.style.transition="none",B=0,w&&(clearInterval(b),b=null),s.onmousemove=t=>{B=t.pageX-e,a.style.transform="translateX("+(+m+B)+"px)",B>=r+l?(L=0,e=t.pageX,x(!1)):B<=-r-l&&(L=0,e=t.pageX,_(!1))},s.onmouseup=()=>{n()},s.onmouseleave=()=>{n()}},w&&(b=setInterval(_,1e3*S),u.classList.add("active")),window.addEventListener("resize",()=>{r=window.getComputedStyle(o[0]).getPropertyValue("width"),r=parseInt(r.substring(0,r.length-2)),l=window.getComputedStyle(o[0]).getPropertyValue("margin-right"),l=parseInt(l.substring(0,l.length-2)),c=window.getComputedStyle(s).getPropertyValue("width"),c=parseInt(c.substring(0,c.length-2)),a.style.transition="none",y?(m=-(r*C*g-(c-r)/2),e.style.transform="translateX("+(-m+(-2*r+(c-r)/2))+"px)",a.style.transform="translateX("+m+"px)"):(m=g*r,a.style.transform="translateX("+m+"px)",e.style.transform="translateX("+(-m-(r+l))+"px)")})}menuBtn.addEventListener("click",()=>{menuList.classList.toggle("active"),headerBtn.classList.toggle("active")}),check_webp_feature("lossy",function(t,e){e||backgroundChange.forEach(t=>{let e=t.style.backgroundImage.toString();e=e.slice(0,-6)+'jpg")',t.style.backgroundImage=e})});const anchors=[].slice.call(document.querySelectorAll('a[href*="#"]')),animationTime=500,framesCount=120,modalsBtn=(anchors.forEach(function(a){a.addEventListener("click",function(t){t.preventDefault();let e=document.querySelector(a.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset,n=e-window.pageYOffset,o=(console.log("coordY2: "+n),setInterval(function(){var t=Math.abs(n)/framesCount;0<n?t>window.pageYOffset-e&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,t):(window.scrollTo(0,e),clearInterval(o)):n<0?t<window.pageYOffset-e?window.scrollBy(0,-t):(window.scrollTo(0,e),clearInterval(o)):n&&clearInterval(o)},animationTime/framesCount))})}),[].slice.call(document.querySelectorAll('button[data-modal="modal"]'))),modalWindow=document.querySelector(".modal"),form=document.querySelector(".modal__form"),modalBtnClose=document.querySelector(".btn__modal--close"),modalBtnSubmit=document.querySelector(".modal__btn"),modalTitle=document.querySelector(".modal__title"),input1=document.querySelector(".modal__input--1"),input2=document.querySelector(".modal__input--2");function modal(){form.addEventListener("submit",function(t){t.preventDefault();var t=input1.value,e=input2.value;""!==t&&""!==e?(modalWindow.classList.remove("active"),input1.value="",input2.value=""):""!==t&&""===e?input2.style.borderColor="red":""===t&&""!==e?input1.style.borderColor="red":""===t&&""===e&&(input1.style.borderColor="red",input2.style.borderColor="red")}),modalsBtn.forEach(t=>{t.addEventListener("click",function(){modalWindow.classList.add("active"),"true"===t.getAttribute("data-book")?(modalTitle.textContent="Введіть дані для бронювання",modalBtnSubmit.textContent="Забронювати"):(modalTitle.textContent="Зв'яжемося з вами за 30 хвилин",modalBtnSubmit.textContent="Зв'язатися")})}),modalBtnClose.addEventListener("click",function(){modalWindow.classList.remove("active"),input1.style.borderColor="#52503B",input2.style.borderColor="#52503B"}),input1.addEventListener("input",()=>input1.style.borderColor="#52503B"),input2.addEventListener("input",()=>input2.style.borderColor="#52503B")}modal(),rate(),document.addEventListener("DOMContentLoaded",()=>{slider(".slider__content")});