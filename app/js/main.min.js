const rates=document.querySelectorAll(".slider__item-rate"),menuBtn=document.querySelector(".menu__btn"),menuList=document.querySelector(".header__menu-list"),headerBtn=document.querySelector(".header__btn");function rate(){rates.forEach(t=>{if(t.hasAttribute("data-rate")){var n=t.getAttribute("data-rate").toString(),r=5-n;for(let e=0;e<n;e++){const s=document.createElement("img");s.setAttribute("src","images/star-fill.svg"),t.appendChild(s)}for(let e=0;e<r;e++){const l=document.createElement("img");l.setAttribute("src","images/star.svg"),t.appendChild(l)}}else{const e=document.createElement("img");e.setAttribute("src","images/star-fill.svg"),t.appendChild(e);for(let e=0;e<4;e++){const o=document.createElement("img");o.setAttribute("src","images/star.svg"),t.appendChild(o)}}})}function slider(e){const t=document.querySelector("."+e),n=document.querySelector(".slider__wrapper");n.style.transition="left .5s";let r=document.querySelectorAll(".slider__item");const s=parseInt(window.getComputedStyle(r[0]).getPropertyValue("flex-basis").substring(0,3)),l=parseInt(window.getComputedStyle(r[0]).getPropertyValue("margin-right").substring(0,2));e=parseInt(window.getComputedStyle(t).getPropertyValue("height").substring(0,3));parseInt(window.getComputedStyle(t).getPropertyValue("padding-bottom").substring(0,2)),e+=5,n.style.left=-s-l+"px";const o=t.closest(".slider__content-inner"),i=document.querySelector(".slider__btn-right"),d=document.querySelector(".slider__btn-left");let c=1,a=(o.style.width=r.length*s+(r.length-1)*l+"px",o.style.height=e+"px",-s-l),u=1;function g(){-1===c&&(c+=r.length),u=c%r.length,setTimeout(()=>{t.style.left=-a-s-l+"px",r[(u+r.length-1)%r.length].style.order="1";for(let e=r.length-1;0<e;e--)r[(u+e-1)%r.length].style.order=(e+2).toString()},502)}function m(){a=a-s-l,n.style.left=a+"px",c++,g()}function p(){a=a+s+l,n.style.left=a+"px",c--,g()}i.addEventListener("click",()=>{m()}),d.addEventListener("click",()=>{p()});let h;o.addEventListener("touchstart",function(){h=0}),o.addEventListener("touchmove",function(e){let t=e.targetTouches[0];0===h&&(h=t.pageX);let n;console.log(h),o.ontouchend=()=>{n=t.pageX,console.log(n),h>n&&m(),h<n&&p()}}),o.onmousedown=e=>{let t=e.pageX,n;o.onmouseup=e=>{n=e.pageX,t>n&&m(),t<n&&p()}}}menuBtn.addEventListener("click",()=>{menuList.classList.toggle("active"),headerBtn.classList.toggle("active")}),rate(),window.addEventListener("resize",()=>{slider("slider__content")}),document.addEventListener("DOMContentLoaded",()=>{slider("slider__content")});